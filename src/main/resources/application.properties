# Bitcoin RPC Configuration
# Default values are for a local development setup. Override with environment variables.
bitcoin.rpc.host=${RPC_HOST:localhost}
bitcoin.rpc.port=${RPC_PORT:8332}
bitcoin.rpc.user=${RPC_USER:user}
bitcoin.rpc.password=${RPC_PASS:password}
bitcoin.rpc.scheme=${RPC_SCHEME:http}

# Dashboard Configuration
# These values can be overridden by environment variables.
dashboard.polling.interval.seconds=${WS_POLLING_INTERVAL:5}
dashboard.health.min.outbound.peers=${MIN_OUTBOUND_PEERS:8}
dashboard.disable-mempool=${DASHBOARD_DISABLE_MEMPOOL:false}

# Cache Configuration
quarkus.cache.caffeine."rpc-data".expire-after-write=${WS_POLLING_INTERVAL:5}s

quarkus.tls.trust-all=true
quarkus.banner.path=banner.txt

# Logging Configuration
quarkus.log.level=${LOG_LEVEL:INFO}
quarkus.log.console.level=${LOG_LEVEL:INFO}

# HTTP Client optimizations for RPC calls
quarkus.rest-client.read-timeout=10000
quarkus.rest-client.connect-timeout=5000
quarkus.http.io-threads=${QUARKUS_IO_THREADS:8}
quarkus.rest-client.connection-pool-size=32

# Application specific limits
dashboard.sessions-max=${DASHBOARD_SESSIONS_MAX:1000}
dashboard.cache.max-items=${DASHBOARD_CACHE_MAX_ITEMS:50}

# GraalVM Native Image optimizations
quarkus.native.enable-reports=true

# ==================================
# Compression
# ==================================
quarkus.http.enable-compression=true
quarkus.http.static-resources.caching-enabled=true
quarkus.http.compressors=deflate,gzip,br

# ==================================
# JVM Arguments for JDK 17+ Module Access
# ==================================
# Allows JBoss Threads to access internal JDK APIs, required for Java 17+
quarkus.jvm.args=--add-opens=java.base/java.lang=ALL-UNNAMED
quarkus.test.arg-line=--add-opens=java.base/java.lang=ALL-UNNAMED
quarkus.native.additional-build-args=--add-opens=java.base/java.lang=ALL-UNNAMED
